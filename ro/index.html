<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <script src="js/d3-fetch.v1.min.js"></script>
  <script src="js/d3-dsv.v1.min.js"></script>
  <script src="js/d3-selection.v1.min.js"></script>
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
    }

    iframe {
      overflow: hidden;
      position: fixed;
      top: 0;
      left: 0;
      border: none;
    }

    #priestley {
      width: 600px;
      height: 400px;
      top: 170px;
    }

    #timeline {
      width: 250px;
      height: 80px;
      top: 540px
    }

    #tinfluence {
      width: 420px;
      height: 100px;
      top: 0px;
      left: 600px;
      /* border: 1px solid black; */
    }

    #influence {
      width: 420px;
      height: 75px;
      top: 95px;
      left: 600px;
      /* border: 1px solid black; */
    }

    #rings {
      width: 420px;
      height: 400px;
      top: 170px;
      left: 600px;
      /* border: 1px solid black; */
      overflow:hidden;
    }

    #bar {
      width: 370px;
      height: 170px;
      top: 0px;
      left: 230px;
    }

    #profile {
      height: 150px;
      position: fixed;
      top: 10px;
      left: 10px;
      border: 1px solid #ddd;
    }
    #sessions {
      position: fixed;
      top: 15px;
      font-size: 13px;
      left: 143px;
    }
    #sessions div{
      height: 20px;
    }
    a{
      text-decoration: none;
      color:black;
    }
    a:hover {
      font-weight: bold;
    }
  </style>
</head>

<body>
  <iframe src='priestley.html' id='priestley'></iframe>
  <iframe src='bar.html' id='bar'></iframe>
  <!-- <iframe src='timeline.html' id='timeline'></iframe> -->
  <iframe src='rings.html' id='rings'></iframe>
  <iframe src='influence.html' id='influence'></iframe>
  <iframe src='tinfluence.html' id='tinfluence'></iframe>
  <img src='' id='profile'>
  <div id='sessions'>
  </div>
</body>
<script>
  var refresh_bar=function(){};
  var cols = ['üéôÔ∏è Felsz√≥lal√°sok', 'üìö Javaslatok', 'üßæ Nyilatkozatok'];
  d3.json('json/member_activity.json').then(function (activitydata) {
    var data = [];
    function refresh_bar(name) {
      activitydata[name].forEach(function (d) {
        cols.forEach(function (c) {
          var dummy = { 'T√∂rv√©nyhoz√°s': d['Session'] }
          if (d[c] > 0) {
            dummy['√ârt√©k'] = parseInt(d[c])
            dummy['id'] = c
            data.push(dummy)
          }
        })
      })
      document.getElementById('bar').contentWindow.bar
        .data(data)

        .y('T√∂rv√©nyhoz√°s')
        .x('√ârt√©k')
        .color('id')
        .discrete("y")
        .legend(false)
        .render()
    }
  })
  refresh_bar('KELEMEN Hunor')
</script>

</html>